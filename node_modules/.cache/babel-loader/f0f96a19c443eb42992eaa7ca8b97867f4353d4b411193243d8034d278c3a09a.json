{"ast":null,"code":"var _jsxFileName = \"/Users/aseelghunim/Downloads/block buster film review/src/components/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport Joi from 'joi';\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n  let [isLoading, setIsLoading] = useState(false);\n  let navigate = useNavigate();\n  let [errorsList, setErrorsList] = useState([]);\n  let [user, setUser] = useState({\n    email: 'aseelghunim@gmail.com',\n    password: '12345678'\n  });\n  function getUserData(e) {\n    user[e.target.name] = e.target.value;\n  }\n  ;\n  function inputsValidation(user) {\n    let schema = Joi.object({\n      email: Joi.string().email({\n        minDomainSegments: 2,\n        tlds: {\n          allow: ['com', 'net']\n        }\n      }).required().messages({\n        'string.empty': 'email cannot be empty'\n      }),\n      password: Joi.string()\n    });\n    return schema.validate(user, {\n      abortEarly: false\n    });\n  }\n  async function submitHandle(e) {\n    setIsLoading(true);\n    e.preventDefault();\n    let validationResult = inputsValidation(user);\n    if (validationResult.error) {\n      // list errors\n      setErrorsList(validationResult.error.details);\n    } else {\n      // send user data to back end\n      console.log('ok');\n      let {\n        data\n      } = await axios.post('https://lazy-blue-sockeye-gear.cyclic.app/api/v1/auth/signin', user);\n      console.log(data);\n      if (data.message === 'success') {\n        localStorage.setItem('userToken', data.token);\n        props.getUserData();\n        navigate('/home');\n      } else {\n        setErrorsList([{\n          message: \"Incorrect Email or Password\"\n        }]);\n      }\n    }\n    setIsLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4 offset-lg-4\",\n            children: [errorsList && errorsList.map(error => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"alert alert-danger\",\n                children: error.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 36\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-uppercase\",\n                children: \"login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                action: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"email-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    children: \"email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 60,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    name: \"email\",\n                    id: \"email\",\n                    value: \"aseelghunim@gmail.com\",\n                    onChange: getUserData,\n                    className: \"form-control\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"password-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"password\",\n                    children: \"password:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"password\",\n                    id: \"password\",\n                    value: \"12345678\",\n                    onChange: getUserData,\n                    className: \"form-control\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      name: \"\",\n                      id: \"remember-me\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"remember-me\",\n                      children: \"Remember me\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\",\n                    children: \"Forgot password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"form-control submit\",\n                  onClick: submitHandle,\n                  children: [isLoading && /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-refresh fa-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 51\n                  }, this), \" login\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"XEwzRLb7/O15kSW0JyQ2uy9I6bs=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","Joi","React","useState","Link","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","props","_s","isLoading","setIsLoading","navigate","errorsList","setErrorsList","user","setUser","email","password","getUserData","e","target","name","value","inputsValidation","schema","object","string","minDomainSegments","tlds","allow","required","messages","validate","abortEarly","submitHandle","preventDefault","validationResult","error","details","console","log","data","post","message","localStorage","setItem","token","children","className","map","fileName","_jsxFileName","lineNumber","columnNumber","action","htmlFor","type","id","onChange","to","onClick","_c","$RefreshReg$"],"sources":["/Users/aseelghunim/Downloads/block buster film review/src/components/login/Login.jsx"],"sourcesContent":["import axios from 'axios';\nimport Joi from 'joi';\nimport React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom';\n\nexport default function Login(props) {\n    let [isLoading,setIsLoading] = useState(false);\n    let navigate = useNavigate();\n    let [errorsList, setErrorsList] = useState([]);\n    let [user, setUser] = useState({\n        email: 'aseelghunim@gmail.com',\n        password: '12345678',\n    });\n    function getUserData(e) {\n        user[e.target.name] = e.target.value;\n    };\n    function inputsValidation(user) {\n        let schema = Joi.object({\n            email: Joi.string().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net'] } }).required().messages({ 'string.empty': 'email cannot be empty' }),\n            password: Joi.string(),\n        });\n        return schema.validate(user, { abortEarly: false });\n    }\n    async function submitHandle(e) {\n        setIsLoading(true);\n        e.preventDefault();\n        let validationResult = inputsValidation(user);\n        if (validationResult.error) {\n            // list errors\n            setErrorsList(validationResult.error.details);\n        }\n        else {\n            // send user data to back end\n            console.log('ok');\n            let { data } = await axios.post('https://lazy-blue-sockeye-gear.cyclic.app/api/v1/auth/signin', user);\n            console.log(data);\n            if (data.message === 'success') {\n                \n                localStorage.setItem('userToken', data.token);\n                props.getUserData();\n                navigate('/home');\n            }\n            else {\n                setErrorsList([{ message: \"Incorrect Email or Password\" }]);\n            }\n        }\n        setIsLoading(false);\n    }\n    return (\n        <>\n            <div className='login'>\n                <div className=\"container\">\n                    <div className=\"row\"><div className=\"col-lg-4 offset-lg-4\">\n                        {errorsList && errorsList.map(error => {\n                            return <div className=\"alert alert-danger\">{error.message}</div>\n                        })}\n                        <div className=\"content\"> <h3 className='text-uppercase'>login</h3>\n                            <form action=\"\">\n                                <div className='email-input'>\n                                    <label htmlFor=\"email\">email:</label>\n                                    <input type=\"email\" name='email' id='email' value='aseelghunim@gmail.com' onChange={getUserData} className='form-control' />\n                                </div>\n                                <div className='password-input'>\n                                    <label htmlFor=\"password\">password:</label>\n                                    <input type=\"password\" name='password' id='password' value='12345678' onChange={getUserData} className='form-control' />\n                                </div>\n                                <div className='actions'>\n                                    <div>\n                                        <input type=\"checkbox\" name=\"\" id=\"remember-me\" />\n                                        <label htmlFor=\"remember-me\">Remember me</label>\n\n                                    </div>\n                                    <Link to='/'>Forgot password?</Link>\n                                </div>\n                                <button type=\"button\" className='form-control submit' onClick={submitHandle}>\n                                    {isLoading && <i className='fa fa-refresh fa-spin'></i>} login\n                                </button>\n                            </form></div>\n\n                    </div></div>\n\n                </div>\n\n            </div>\n        </>\n\n    )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErD,eAAe,SAASC,KAAKA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACjC,IAAI,CAACC,SAAS,EAACC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC9C,IAAIY,QAAQ,GAAGV,WAAW,EAAE;EAC5B,IAAI,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC9C,IAAI,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC;IAC3BiB,KAAK,EAAE,uBAAuB;IAC9BC,QAAQ,EAAE;EACd,CAAC,CAAC;EACF,SAASC,WAAWA,CAACC,CAAC,EAAE;IACpBL,IAAI,CAACK,CAAC,CAACC,MAAM,CAACC,IAAI,CAAC,GAAGF,CAAC,CAACC,MAAM,CAACE,KAAK;EACxC;EAAC;EACD,SAASC,gBAAgBA,CAACT,IAAI,EAAE;IAC5B,IAAIU,MAAM,GAAG3B,GAAG,CAAC4B,MAAM,CAAC;MACpBT,KAAK,EAAEnB,GAAG,CAAC6B,MAAM,EAAE,CAACV,KAAK,CAAC;QAAEW,iBAAiB,EAAE,CAAC;QAAEC,IAAI,EAAE;UAAEC,KAAK,EAAE,CAAC,KAAK,EAAE,KAAK;QAAE;MAAE,CAAC,CAAC,CAACC,QAAQ,EAAE,CAACC,QAAQ,CAAC;QAAE,cAAc,EAAE;MAAwB,CAAC,CAAC;MACrJd,QAAQ,EAAEpB,GAAG,CAAC6B,MAAM;IACxB,CAAC,CAAC;IACF,OAAOF,MAAM,CAACQ,QAAQ,CAAClB,IAAI,EAAE;MAAEmB,UAAU,EAAE;IAAM,CAAC,CAAC;EACvD;EACA,eAAeC,YAAYA,CAACf,CAAC,EAAE;IAC3BT,YAAY,CAAC,IAAI,CAAC;IAClBS,CAAC,CAACgB,cAAc,EAAE;IAClB,IAAIC,gBAAgB,GAAGb,gBAAgB,CAACT,IAAI,CAAC;IAC7C,IAAIsB,gBAAgB,CAACC,KAAK,EAAE;MACxB;MACAxB,aAAa,CAACuB,gBAAgB,CAACC,KAAK,CAACC,OAAO,CAAC;IACjD,CAAC,MACI;MACD;MACAC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjB,IAAI;QAAEC;MAAK,CAAC,GAAG,MAAM7C,KAAK,CAAC8C,IAAI,CAAC,8DAA8D,EAAE5B,IAAI,CAAC;MACrGyB,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;MACjB,IAAIA,IAAI,CAACE,OAAO,KAAK,SAAS,EAAE;QAE5BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,IAAI,CAACK,KAAK,CAAC;QAC7CvC,KAAK,CAACW,WAAW,EAAE;QACnBP,QAAQ,CAAC,OAAO,CAAC;MACrB,CAAC,MACI;QACDE,aAAa,CAAC,CAAC;UAAE8B,OAAO,EAAE;QAA8B,CAAC,CAAC,CAAC;MAC/D;IACJ;IACAjC,YAAY,CAAC,KAAK,CAAC;EACvB;EACA,oBACIP,OAAA,CAAAE,SAAA;IAAA0C,QAAA,eACI5C,OAAA;MAAK6C,SAAS,EAAC,OAAO;MAAAD,QAAA,eAClB5C,OAAA;QAAK6C,SAAS,EAAC,WAAW;QAAAD,QAAA,eACtB5C,OAAA;UAAK6C,SAAS,EAAC,KAAK;UAAAD,QAAA,eAAC5C,OAAA;YAAK6C,SAAS,EAAC,sBAAsB;YAAAD,QAAA,GACrDnC,UAAU,IAAIA,UAAU,CAACqC,GAAG,CAACZ,KAAK,IAAI;cACnC,oBAAOlC,OAAA;gBAAK6C,SAAS,EAAC,oBAAoB;gBAAAD,QAAA,EAAEV,KAAK,CAACM;cAAO;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAO;YACpE,CAAC,CAAC,eACFlD,OAAA;cAAK6C,SAAS,EAAC,SAAS;cAAAD,QAAA,GAAC,GAAC,eAAA5C,OAAA;gBAAI6C,SAAS,EAAC,gBAAgB;gBAAAD,QAAA,EAAC;cAAK;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAK,eAC/DlD,OAAA;gBAAMmD,MAAM,EAAC,EAAE;gBAAAP,QAAA,gBACX5C,OAAA;kBAAK6C,SAAS,EAAC,aAAa;kBAAAD,QAAA,gBACxB5C,OAAA;oBAAOoD,OAAO,EAAC,OAAO;oBAAAR,QAAA,EAAC;kBAAM;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAQ,eACrClD,OAAA;oBAAOqD,IAAI,EAAC,OAAO;oBAACnC,IAAI,EAAC,OAAO;oBAACoC,EAAE,EAAC,OAAO;oBAACnC,KAAK,EAAC,uBAAuB;oBAACoC,QAAQ,EAAExC,WAAY;oBAAC8B,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAG;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAC1H,eACNlD,OAAA;kBAAK6C,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,gBAC3B5C,OAAA;oBAAOoD,OAAO,EAAC,UAAU;oBAAAR,QAAA,EAAC;kBAAS;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAQ,eAC3ClD,OAAA;oBAAOqD,IAAI,EAAC,UAAU;oBAACnC,IAAI,EAAC,UAAU;oBAACoC,EAAE,EAAC,UAAU;oBAACnC,KAAK,EAAC,UAAU;oBAACoC,QAAQ,EAAExC,WAAY;oBAAC8B,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAG;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACtH,eACNlD,OAAA;kBAAK6C,SAAS,EAAC,SAAS;kBAAAD,QAAA,gBACpB5C,OAAA;oBAAA4C,QAAA,gBACI5C,OAAA;sBAAOqD,IAAI,EAAC,UAAU;sBAACnC,IAAI,EAAC,EAAE;sBAACoC,EAAE,EAAC;oBAAa;sBAAAP,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAG,eAClDlD,OAAA;sBAAOoD,OAAO,EAAC,aAAa;sBAAAR,QAAA,EAAC;oBAAW;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,QAAQ;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAE9C,eACNlD,OAAA,CAACH,IAAI;oBAAC2D,EAAE,EAAC,GAAG;oBAAAZ,QAAA,EAAC;kBAAgB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAO;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAClC,eACNlD,OAAA;kBAAQqD,IAAI,EAAC,QAAQ;kBAACR,SAAS,EAAC,qBAAqB;kBAACY,OAAO,EAAE1B,YAAa;kBAAAa,QAAA,GACvEtC,SAAS,iBAAIN,OAAA;oBAAG6C,SAAS,EAAC;kBAAuB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,QAAK,EAAC,QAC5D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAS;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAM;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAEf;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAM;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAEV;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAEJ,iBACP;AAGX;AAAC7C,EAAA,CAlFuBF,KAAK;EAAA,QAEVL,WAAW;AAAA;AAAA4D,EAAA,GAFNvD,KAAK;AAAA,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}